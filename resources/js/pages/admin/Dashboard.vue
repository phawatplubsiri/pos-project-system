<template>
  <div class="container">
    <h1>üë®‚Äçüíº ‡∏ú‡∏π‡πâ‡∏î‡∏π‡πÅ‡∏•‡∏£‡∏∞‡∏ö‡∏ö (Admin)</h1>
    <p>‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏ó‡∏≥</p>

    <div class="menu-grid">
      <div class="card" @click="$router.push('/pos')">
        <div class="icon">üõí</div>
        <h3>‡∏£‡∏∞‡∏ö‡∏ö‡∏Ç‡∏≤‡∏¢‡∏´‡∏ô‡πâ‡∏≤‡∏£‡πâ‡∏≤‡∏ô (POS)</h3>
        <p>‡πÄ‡∏õ‡∏¥‡∏î‡πÇ‡∏ï‡πä‡∏∞ ‡∏™‡∏±‡πà‡∏á‡∏≠‡∏≤‡∏´‡∏≤‡∏£ ‡πÄ‡∏ä‡πá‡∏Ñ‡∏ö‡∏¥‡∏•</p>
      </div>

      <div class="card" @click="$router.push('/admin/staff')">
        <div class="icon">üë•</div>
        <h3>‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô</h3>
        <p>‡πÄ‡∏û‡∏¥‡πà‡∏° ‡∏•‡∏ö ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç ‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠ Staff</p>
      </div>

      <div class="card" @click="$router.push('/admin/products')">
        <div class="icon">üì¶</div>
        <h3>‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ & ‡∏£‡∏≤‡∏Ñ‡∏≤</h3>
        <p>‡πÄ‡∏°‡∏ô‡∏π‡∏≠‡∏≤‡∏´‡∏≤‡∏£ ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ ‡πÅ‡∏•‡∏∞‡∏Ñ‡πà‡∏≤‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£</p>
      </div>

      <div class="card" @click="$router.push('/admin/reports')">
        <div class="icon">üìä</div>
        <h3>‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏£‡∏≤‡∏¢‡πÑ‡∏î‡πâ</h3>
        <p>‡∏™‡∏£‡∏∏‡∏õ‡∏¢‡∏≠‡∏î‡∏£‡∏≤‡∏¢‡∏ß‡∏±‡∏ô & Export CSV</p>
      </div>
    </div>
    
    <button class="logout-btn" @click="logout">‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö</button>
  </div>
</template>

<script>
import { useRouter } from 'vue-router';
import axios from 'axios';

export default {
  setup() {
    const router = useRouter();

    const logout = async () => {
        try {
            await axios.post('/api/logout', {}, {
                headers: { Authorization: `Bearer ${localStorage.getItem('token')}` }
            });
        } catch (e) {}
        
        localStorage.clear();
        router.push('/');
    };

    return { logout };
  }
};
</script>

<style scoped>
.container { padding: 40px; text-align: center; font-family: 'Sarabun', sans-serif; }
.menu-grid { display: flex; justify-content: center; gap: 30px; margin-top: 30px; }
.card { 
    border: 1px solid #ddd; padding: 30px; width: 250px; cursor: pointer; 
    border-radius: 10px; transition: 0.2s; background: white; box-shadow: 0 4px 6px rgba(0,0,0,0.1);
}
.card:hover { transform: translateY(-5px); border-color: #007bff; }
.icon { font-size: 3rem; margin-bottom: 10px; }
h3 { margin: 10px 0; color: #333; }
.logout-btn { margin-top: 50px; padding: 10px 20px; background: #dc3545; color: white; border: none; border-radius: 5px; cursor: pointer; }
</style>